<!--orders.wxml-->
<view class="orders-page">
  <view class="section-title">我的订单</view>
  
  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{orders.length === 0}}">
    <image class="empty-image" src="/images/state_empty.png" mode="aspectFit"></image>
    <text class="empty-text">暂无订单记录</text>
  </view>
  
  <!-- 订单列表 -->
  <view class="order-list" wx:else>
    <view class="order-item" wx:for="{{orders}}" wx:key="id">
      <view class="order-header">
        <text class="order-id">订单号: {{item.order_no}}</text>
        <text class="order-status {{item.status}}">{{statusText[item.status]}}</text>
      </view>
      
      <view class="order-info">
        <view class="order-credits">{{item.credits}}积分</view>
        <view class="order-price">¥{{item.amount}}</view>
      </view>
      
      <view class="order-footer">
        <text class="order-time">{{item.created_at}}</text>
      </view>
    </view>
  </view>
  
  <!-- 加载更多 -->
  <view class="load-more" wx:if="{{hasMoreOrders && orders.length > 0}}">
    <text wx:if="{{isLoading}}">加载中...</text>
    <text wx:else bindtap="loadMoreOrders">加载更多</text>
  </view>
</view> 